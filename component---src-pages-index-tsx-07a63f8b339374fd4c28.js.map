{"version":3,"file":"component---src-pages-index-tsx-07a63f8b339374fd4c28.js","mappings":"yLAgCA,EA7Be,SAAC,GAAD,QAAGA,UAAAA,OAAH,MAAe,GAAf,SACb,0BACEC,MAAO,CACLC,WAAW,gBACXC,aAAa,YAGf,uBACEF,MAAO,CACLG,OAAO,SACPC,SAAU,IACVC,QAAQ,sBAGV,sBAAIL,MAAO,CAAEG,OAAQ,IACnB,gBAAC,EAAAG,KAAD,CACEC,GAAG,IACHP,MAAO,CACLQ,MAAM,QACNC,eAAe,SAGhBV,O,UCkCX,EA7C6C,SAAC,GAAyB,IAAvBW,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC/CC,GAAUC,EAAAA,EAAAA,KACVC,EAAgBF,EAAQG,MAAK,SAAAC,GAAC,OAAIA,EAAEC,WAC1C,OACE,gCACE,gBAAC,EAAD,CAAQlB,UAAWW,IACnB,uBACEV,MAAO,CACLG,OAAO,SACPC,SAAU,IACVC,QAAQ,wBAGV,4BAAOM,GACNG,GACC,0BACEd,MAAO,CACLkB,UAAU,OACVC,QAAQ,OACRC,WAAW,WAGb,uBAAKC,KAAK,MAAMrB,MAAO,CAAEsB,YAAa,SAAW,aAAW,SAA5D,KAEE,wBAAMC,UAAU,kBACbX,EAAQY,KAAI,SAAAR,GAAC,OAAIA,EAAES,KAAKC,UAAQC,KAAK,SAG1C,0BACEC,aAAcd,EAAce,GAC5BC,SAAU,SAAAC,GAAC,OAAIC,EAAAA,EAAAA,UAAS,MAAQD,EAAEE,OAAOC,SAExCtB,EAAQY,KAAI,SAAAW,GAAM,OACjB,0BAAQC,IAAKD,EAAON,GAAIK,MAAOC,EAAON,IACnCM,EAAON,GADV,MACiBM,EAAOV,KAAKY,qB,6ECrC9B,SAASxB,IACtB,IAAQyB,GAA6BC,EAAAA,EAAAA,gBAAe,cAA5CD,QAkBAE,GAAaC,EAAAA,EAAAA,eAAbD,SAER,OAAOF,EAAQI,MAAMlB,KAAI,SAAAmB,GAAI,MAAK,CAChC1B,QAAS,IAAI2B,OAAJ,IAAeD,EAAKE,MAAQC,KAAKN,GAC1CX,GAAIc,EAAKE,KACTpB,KAAMkB,EAAKI,oB,wECCf,UA9BkB,WAChB,IAAMnC,GAAUC,EAAAA,EAAAA,KAkBhB,OAhBAmC,EAAAA,WAAgB,WACd,IAAMC,EAAkBC,OAAOC,UAAUC,SACrCC,EAAiBzC,EAAQG,MAC3B,SAAAC,GAAC,OAAIA,EAAEa,GAAGyB,QAAQ,IAAK,OAASL,KAE7BI,IACHA,EAAiBzC,EAAQG,MACvB,SAAAC,GAAC,OAAIA,EAAEa,KAAOoB,EAAgBK,QAAQ,YAAa,QAGnDD,IACFE,QAAQC,IAAI,CAAE5C,QAAAA,EAASqC,gBAAAA,EAAiBI,eAAAA,KACxCrB,EAAAA,EAAAA,UAAS,IAAIqB,EAAexB,GAApB,QAET,IAGD,gBAAC,IAAD,KACGjB,EAAQY,KAAI,gBAAGK,EAAH,EAAGA,GAAIJ,EAAP,EAAOA,KAAP,OACX,qBAAGW,IAAKP,GACN,gBAAC,EAAAvB,KAAD,CAAMC,GAAE,IAAMsB,EAAN,KAAcJ,EAAKC","sources":["webpack://tenk-template-gatsby/./src/components/header.tsx","webpack://tenk-template-gatsby/./src/components/layout.tsx","webpack://tenk-template-gatsby/./src/hooks/useLocales.ts","webpack://tenk-template-gatsby/./src/pages/index.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Header = ({ siteTitle = \"\" }) => (\n  <header\n    style={{\n      background: `rebeccapurple`,\n      marginBottom: `1.45rem`,\n    }}\n  >\n    <div\n      style={{\n        margin: `0 auto`,\n        maxWidth: 960,\n        padding: `1.45rem 1.0875rem`,\n      }}\n    >\n      <h1 style={{ margin: 0 }}>\n        <Link\n          to=\"/\"\n          style={{\n            color: `white`,\n            textDecoration: `none`,\n          }}\n        >\n          {siteTitle}\n        </Link>\n      </h1>\n    </div>\n  </header>\n)\n\nexport default Header\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.com/docs/use-static-query/\n */\n\nimport * as React from \"react\"\nimport { navigate } from \"gatsby\"\n\nimport Header from \"./header\"\nimport \"./layout.css\"\nimport useLocales from \"../hooks/useLocales\"\n\nconst Layout: React.FC<{ title?: string }> = ({ title, children }) => {\n  const locales = useLocales()\n  const currentLocale = locales.find(l => l.current)\n  return (\n    <>\n      <Header siteTitle={title} />\n      <div\n        style={{\n          margin: `0 auto`,\n          maxWidth: 960,\n          padding: `0 1.0875rem 1.45rem`,\n        }}\n      >\n        <main>{children}</main>\n        {currentLocale && (\n          <footer\n            style={{\n              marginTop: `2rem`,\n              display: `flex`,\n              alignItems: `center`,\n            }}\n          >\n            <div role=\"img\" style={{ marginRight: \"0.5em\" }} aria-label=\"globe\">\n              üåê\n              <span className=\"visuallyHidden\">\n                {locales.map(l => l.i18n.viewIn).join(\" | \")}\n              </span>\n            </div>\n            <select\n              defaultValue={currentLocale.id}\n              onChange={e => navigate(\"../\" + e.target.value)}\n            >\n              {locales.map(locale => (\n                <option key={locale.id} value={locale.id}>\n                  {locale.id} - {locale.i18n.langPicker}\n                </option>\n              ))}\n            </select>\n          </footer>\n        )}\n      </div>\n    </>\n  )\n}\n\nexport default Layout\n","import { useStaticQuery, graphql } from \"gatsby\"\nimport { useLocation } from \"@reach/router\"\nimport type { AllLocalesQuery } from \"../../graphql-types\"\n\n/**\n * Gatsby really wants to push everything, even simple stuff like JSON files in\n * a project folder, through a complicated GraphQL pipeline. This hook hides the\n * details of looking up the locale files in the `i18n` folder and makes them\n * easily accessible to any component that needs them. It also adds a `current`\n * field for the current locale based on the current route.\n */\nexport default function useLocales() {\n  const { allFile }: AllLocalesQuery = useStaticQuery(\n    graphql`\n      query AllLocales {\n        allFile(filter: { sourceInstanceName: { eq: \"i18n\" } }) {\n          nodes {\n            name\n            childI18NJson {\n              viewIn\n              langPicker\n              title\n              description\n              connectWallet\n            }\n          }\n        }\n      }\n    `\n  )\n  const { pathname } = useLocation()\n\n  return allFile.nodes.map(node => ({\n    current: new RegExp(`/${node.name}`).test(pathname),\n    id: node.name,\n    i18n: node.childI18NJson!,\n  }))\n}\n","import * as React from \"react\"\nimport { Link, navigate } from \"gatsby\"\n\nimport useLocales from \"../hooks/useLocales\"\nimport Layout from \"../components/layout\"\n\nconst IndexPage = () => {\n  const locales = useLocales()\n\n  React.useEffect(() => {\n    const preferredLocale = window.navigator.language\n    let matchingLocale = locales.find(\n      l => l.id.replace(\"_\", \"-\") === preferredLocale\n    )\n    if (!matchingLocale)\n      matchingLocale = locales.find(\n        l => l.id === preferredLocale.replace(/-[A-Z]{2}/, \"\")\n      )\n\n    if (matchingLocale) {\n      console.log({ locales, preferredLocale, matchingLocale })\n      navigate(`/${matchingLocale.id}/`)\n    }\n  }, [])\n\n  return (\n    <Layout>\n      {locales.map(({ id, i18n }) => (\n        <p key={id}>\n          <Link to={`/${id}/`}>{i18n.viewIn}</Link>\n        </p>\n      ))}\n    </Layout>\n  )\n}\n\nexport default IndexPage\n"],"names":["siteTitle","style","background","marginBottom","margin","maxWidth","padding","Link","to","color","textDecoration","title","children","locales","useLocales","currentLocale","find","l","current","marginTop","display","alignItems","role","marginRight","className","map","i18n","viewIn","join","defaultValue","id","onChange","e","navigate","target","value","locale","key","langPicker","allFile","useStaticQuery","pathname","useLocation","nodes","node","RegExp","name","test","childI18NJson","React","preferredLocale","window","navigator","language","matchingLocale","replace","console","log"],"sourceRoot":""}